import{u,e as p,c as d,r as h,j as s,h as c,g as N,i as m,k as w,A as S,f as b,l as y}from"./index-fd9249b1.js";const C=({title:t})=>{const{authorizeStatus:{loading:i,validationErrors:e}}=u(p),{authorize:n}=d(),[a,l]=h.useState({email:"",password:""}),r=o=>{const{name:x,value:f}=o.target;l(j=>({...j,[x]:f}))},_=o=>{o.preventDefault(),a.email&&a.password&&n(a)},g=!a.email||!a.password;return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"login__title",children:t}),s.jsxs("form",{className:"login__form form",action:"#",method:"post",onSubmit:_,children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!1,onChange:r}),(e==null?void 0:e.email)&&s.jsx("p",{className:c.error,children:e==null?void 0:e.email})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!1,onChange:r}),(e==null?void 0:e.password)&&s.jsx("p",{className:c.error,children:e==null?void 0:e.password})]}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:g,children:i?s.jsx(N,{size:"s",type:"inline",preset:"white"}):"Sign in"})]})]})},k=()=>m[Math.floor(Math.random()*m.length)],z="_link_1z5lf_1",A={link:z},F=()=>{const{changeCity:t}=d(),{authorizationStatus:i,authorizeStatus:{error:e}}=u(p),n=w(),a=k();h.useEffect(()=>{i===S.Authorized&&n(-1)},[n,i]),b(e);const l=()=>{t(a),n(y.Default)};return s.jsx("main",{className:"page__main page__main--login",children:s.jsxs("div",{className:"page__login-container container",children:[s.jsx("section",{className:"login",children:s.jsx(C,{title:"Sign in"})}),s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:`locations__item locations__item-link ${A.link}`,onClick:l,children:s.jsx("span",{children:a})})})]})})};export{F as default};
